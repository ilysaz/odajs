Оглавление документации формируется автоматически на основе иерархии папок и их содержимого.

Корневой папкой документации является папка «**learn**», которая соответствует разделу «**Обучение**» главного меню сайта. Кроме этого, она соответствует корневому пункту оглавления, которое отображается на левой панели в области «Навигатора».

![Оглавление раздела](learn/images/doc-principles_table-of-contents-01.png"Пример оглавления раздела")

Для организации подразделов в корневой папке необходимо создать вложенные папки, а содержащиеся в них файлы, размеченные в формате **Markdown**, будут являться статьями этих подразделов. Таким образом, структура и оглавление документации будет определяться иерархической структурой папки «**learn**».

Для включения подразделов и статей в документацию в каждой папке должен находиться служебный файл с именем «**_.dir**». В нем задаются названия подразделов и статей, выводимые в оглавлении, и устанавливается связь между этими названиями и соответствующими им папками и файлами.

В файле **\_.dir** описывается только один уровень оглавления, определяемый содержимым текущей папки. Все оглавление в целом формируется по содержимому всех файлов **\_.dir**, расположенных во всех вложенных папках.

Описание каждой папки в файле **\_.dir** задается в формате JSON в виде массива однотипных объектов. Каждый элемент этого массива описывает отдельный пункт оглавления следующим образом:

```json
[
    {
        "name": "Имя файла или вложенной папки",
        "label": "<b style='color:blue'>Название пункта</b> оглавления",
        "content": {
            "abstract": "\n~~~md\n Краткая аннотация.\n~~~"
        },
        "status": "check"
    },
]
```

В качестве элементов папки могут выступать:

1. Файлы в формате **Markdown** со справочными материалами.
1. Вложенные папки, которые будут рассматриваться как подразделы данного раздела.

Любые другие элементы папки, не описанные в файле **_.dir**, в справочную систему попадать не будут.

Каждая отдельная запись в JSON-массиве должна содержать по крайней мере два обязательных ключа:

1. **name** — ключ, значение которого определяет либо имя файла, в котором хранится текст со справочными материалами, либо имя вложенной папки, содержимое которой должно стать подразделом внутри данного раздела.

1. **label** — ключ, значение которого будет выводиться в качестве названия данного пункта в оглавлении справочной системы.

Необязательный ключ **content** позволяет задать дополнительные настройки отображения каждого пункта оглавления. Например, с его помощью можно указать ключ **abstract**, значение которого добавит краткое описание под названием данного пункта. Весь текст этого описания или определенную его часть можно будет дополнительно отформатировать в формате **Markdown**. Для этого предусмотрены специальные теги **~~~md** и **~~~**.

Ключ **status** является необязательным и позволяет указать текущее состояние данного раздела или учебного материала. Здесь можно использовать несколько значений:

1. **temp** – материал разрабатывается.
1. **check** – материал полностью написан, но находится на проверке.
1. **ok** – материал проверен и утвержден для использования.

Все учебные руководства находятся в отдельной папке «**guide**», которая располагается непосредственно в корневой папке «**learn**». Например, для того чтобы создать такое оглавление

![Оглавление раздела](learn/images/help_example.jpg "Пример оглавления раздела")

необходимо будет выполнить следующую последовательность шагов:

1. Создать папку с именем «**example**» в папке «**guide**».

1. Найти в папке «**guide**» файл с именем**_.dir** и добавить в него описание вновь созданной папки:

```json
[
    ...,
    {
        "name": "example",
        "label": "Пример раздела",
        "status": "check"
    }
]
```

1. Создать в папке «**examples**» новый учебный материал, например, в файле с именем «**lesson.md**».

    ```text
        Урок №1
    ```

1. В папке «**examples**» создать файл с именем «**_.dir**», в котором необходимо описать вновь созданный материал следующим обарзом:

    ```json
    [
        {
            "name": "lesson.md",
            "label": "<b style='color:blue'>Название пункта</b> оглавления",
            "content": {
                "abstract": "\n~~~md\n Краткая аннотация.\n~~~"
            }
        }
    ]
    ```

После перезагрузки HTML-страницы, созданный раздел должен появится в соответствующем разделе оглавления учебных материалов сайта.

![Отображение раздела](learn/images/help_example2.jpg "Отображение раздела")

Следует отметить, что в главном меню сайта отображаются только разделы первого и второго уровня.

![Главное меню](learn/images/help_menu.jpg "Главное меню")

Разделы более высоких уровней появляются только в оглавлении справочной системы, которое выводится на левой панели в области «Навигатора».
