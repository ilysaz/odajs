Оглавление документации формируется автоматически на основе иерархии папок и их содержимого.

Корневой папкой документации является папка «**learn**», которая соответствует разделу «**Обучение**» главного меню сайта. Кроме этого, она соответствует корневому пункту оглавления, которое отображается в области «**Навигатора**», расположенном на левой панели главной страницы сайта.

![Оглавление раздела](learn/images/doc-principles_table-of-contents-01.png"Пример оглавления раздела")

Для организации подразделов в корневой папке необходимо создать вложенные папки. Файлы, расположенные в этих папках, будут являться статьями этих подразделов. Таким образом, структура оглавления справочной системы будет формироваться автоматически на основе файловой структуры папки «**learn**» со всеми вложенными в нее элементами.

Для включения подразделов и статей в документацию в каждой отдельной папке должен находиться служебный файл с именем «**_.dir**». В нем описываются все подразделы и статьи, выводимые в оглавлении данного раздела, и устанавливается связь между их названиями и именами соответствующих им папок и файлов.

В файле «**\_.dir**» описывается только один уровень оглавления, определяемый содержимым текущей папки. Оглавление в целом формируется на основе содержимого всех файлов «**\_.dir**», расположенных во всех вложенных папках раздела «**learn**» («**Обучение**»).

Описание каждой папки в файле «**\_.dir**» задается в формате JSON в виде массива однотипных объектов. Каждый элемент этого массива описывает отдельный пункт оглавления справочной системы следующим образом:

```json
[
    {
        "name": "Имя файла или вложенной папки",
        "label": "<b style='color:blue'>Название пункта</b> оглавления",
        "content": {
            "abstract": "\n~~~md\n Краткая аннотация.\n~~~"
        },
        "status": "check"
    }
]
```

В качестве элементов папки могут выступать:

1. Файлы в формате «**Markdown**» со справочными материалами.
1. Вложенные папки, которые будут рассматриваться как подразделы данного раздела.

Любые другие элементы папки, не описанные в файле «**_.dir**», в справочную систему попадать не будут.

Каждый отдельный объект в JSON-массиве должен содержать по крайней мере два обязательных ключа:

1. «**name**» — ключ, значение которого определяет либо имя файла, в котором хранится текст со справочными материалами, либо имя вложенной папки, содержимое которой должно стать подразделом внутри данного раздела.

1. «**label**» — ключ, значение которого будет выводиться в качестве названия данного пункта в оглавлении справочной системы.

Необязательный ключ «**content**» позволяет задать дополнительные настройки отображения каждого пункта оглавления. Например, с его помощью можно указать ключ **abstract**, значение которого добавит краткое описание под названием данного пункта. Весь текст этого описания или определенную его часть можно будет дополнительно отформатировать в формате **Markdown**. Для этого предусмотрены специальные теги «**~~~md**» и «**~~~**».

Ключ «**status**» является необязательным и позволяет указать текущее состояние данного раздела или учебного материала. Здесь можно использовать несколько значений:

1. «**temp**» – материал разрабатывается.
1. «**check**» – материал полностью написан, но находится на проверке.
1. «**edit**» – материал проверен и требует внесения исправлений.
1. «**ok**» – материал проверен и утвержден для использования.

Все учебные руководства находятся в отдельной папке «**guide**», которая располагается непосредственно в корневой папке «**learn**». Например, пусть необходимо создать раздел справочной системы, представленный на следующем рисунке.

![Оглавление раздела](learn/images/help_example.jpg "Пример оглавления раздела")

Для этого потребуется выполнить следующую последовательность шагов:

1. Создать папку с именем «**example**» в папке «**guide**».

1. Найти в папке «**guide**» файл с именем «**_.dir**» и добавить в него описание вновь созданной папки:

    ```json
    [
        ...,
        {
            "name": "example",
            "label": "Пример раздела",
            "status": "check"
        }
    ]
    ```

    Порядок расположения этого описания в файле «**_.dir**» будет определять порядок расположения нового подраздела в оглавлении раздела «**Руководство**» («**guide**») на сайте.

1. Создать в папке «**examples**» новый учебный материал, например, в файле с именем «**lesson.md**».

    ```text
        Урок №1
    ```

1. В папке «**examples**» создать файл с именем «**_.dir**», в котором необходимо описать вновь созданный материал следующим образом:

    ```json
    [
        {
            "name": "lesson.md",
            "label": "<b style='color:blue'>Название пункта</b> оглавления",
            "content": {
                "abstract": "\n~~~md\n Краткая аннотация.\n~~~"
            }
        }
    ]
    ```

После перезагрузки HTML-страницы в браузере, созданный раздел должен появится в конце оглавления раздела «**Руководство**», а его элементы должны ссылаться на учебные материалы, расположенные в папке «**examples**».

![Отображение раздела](learn/images/help_example2.jpg "Отображение раздела")

Следует отметить, что в главном меню сайта отображаются только разделы первого и второго уровня.

![Главное меню](learn/images/help_menu.jpg "Главное меню")

Разделы более высоких уровней появляются только в оглавлении справочной системы, которое отображается на левой панели в области «**Навигатора**».
