Директива **~for** используется для создания последовательности однотипных HTML-элементов на основе заданного JSX-шаблона и указанного источника данных. В процессе работы директива последовательно извлекает элементы из источника данных, и на основе каждого такого элемента создает из шаблона очередной HTML-элемент.

В общем случае директива имеет следующий формат:

```info md_hideicon
~for = "*item*, *index*, *items*, *key* in *dataSource*"
```

Параметр **dataSource** определяет источник данных для директивы. Источником данных могут быть массивы и объекты, а также любые JavaScript-выражения, значения которых фреймворк может преобразовать в массив или объект.

Параметры **item**, **index**, **items** и **key** являются переменными цикла и могут использоваться в шаблоне в JavaScript-выражениях. Эти параметры являются необязательными. Если какие-то переменные цикла не используются в шаблоне создаваемого HTML-элемента, то соответствующие параметры можно опустить при объявлении директивы.

Переменная цикла **item** содержит элемент данных, взятый из источника в текущем цикле.

Пример 1:

```javascript _run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~for="item in array">Элемент: {{item}}</div>
    `,
    props: {
        array: [
            'A', 'B', 'C'
        ]
    }
});
```

В примере из массива **array** последовательно извлекаются все элементы, и для каждого из них создается свой собственный HTML-элемент **div**. Значение текущего элемента массива берется из переменной **item**.

Переменная цикла **index** содержит порядковый номер текущего элемента данных в источнике данных. Нумерация начинается с нуля. Если источник данных является массивом, то эта переменная фактически является индексом текущего элемента массива.

Пример 2:

```javascript _run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~for="item, index in array">Элемент[{{index}}]: {{item}}</div>
    `,
    props: {
        array: [
            'A', 'B', 'C'
        ]
    }
});
```

Этот пример аналогичен предыдущему с учетом того, что помимо значения элемента массива также выводится его индекс, который берется из переменной **index**.

Переменная цикла **items** является указателем на источник данных, из которого директива непосредственно извлекает данные. Если параметр **dataSource** является объектом или массивом, то **items** указывает на него. Если **dataSource** является JavaScript-выражением, то **items** указывает на внутренний источник данных, который сформировал фреймворк из результата выполнения этого выражения.

Пример 3:

```javascript _run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~for="item, index, items in array">Элемент[{{index}}]: {{item}} - array: {{items}}</div>
    `,
    props: {
        array: [
            'A', 'B', 'C'
        ]
    }
});
```

Этот пример аналогичен предыдущему с учетом того, что в каждом элементе **div** дополнительно выводится содержимое исходного массива, на который ссылается указатель **items**.

Переменная цикла **key** содержит имя текущего свойства объекта, если источник данных является объектом. Если источник данных является массивом, то эта переменная содержит порядковый номер элемента данных аналогично переменной **index**.

Пример 4:

```javascript _run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <style>
            span {padding-left: 25px}
        </style>
        <div>object {</div>
        <span ~for="item, , , key in object">{{key}}: {{item}},</span>
        <div>}</div>
    `,
    props: {
        object: {
            prop1:'A', prop2:'B', prop3:'C'
        }
    }
});
```

В примере из объекта **object** последовательно извлекаются все свойства, и для каждого из них создается свой собственный HTML-элемент **div**. Переменная **key** используется для вывода имени свойства. Переменная **item** используется для вывода значения свойства.

```faq_md
Обратите внимание, что переменные цикла **index** и **items** не используются в шаблоне, поэтому их имена опущены при объявлении директивы. Однако в директиве сохранены все запятые, которые должны отделять переменные цикла друг от друга. Это позволяет указать позицию последнего параметра **key**.
```

```info_md
Кроме структуры цикла **for...in**, можно использовать структуру **for...of**.
```

Пример 5:

```javascript _run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <style>
            span {padding-left: 25px}
        </style>
        <div>object {</div>
        <span ~for="item, , , key of object">{{key}}: {{item}},</span>
        <div>}</div>
    `,
    props: {
        object: {
            prop1:'A', prop2:'B', prop3:'C'
        }
    }
});
```

Результат выполнения этого примера будет точно таким же, как и у предыдущего.
