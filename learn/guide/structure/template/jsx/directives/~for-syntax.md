Директива **~for** используется для создания последовательности однотипных HTML-элементов на основе заданного источника данных.

В качестве источника данных могут выступать: массивы, объекты или любые JavaScript-выражения, значения которых можно представить в виде массива или объекта.

В общем случае директива **~for** имеет следующий синтаксис:

```info md_hideicon
**~for="item, index, items, key in dataSource"**
```

Параметр **dataSource** определяет источник данных для директивы.

Параметры **item**, **index**, **items** и **key** обеспечивают доступ к текущему элементу источника данных и его свойствам. Эти параметры являются необязательными и их можно опустить при объявлении директивы.

В процессе выполнения директивы последовательно извлекаются все элементы из источника данных и на их основе создается очередной HTML-элемент того же типа, в теге которого эта директива была указана.

Например,

```javascript _run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~for="['A', 'B', 'C']">Очередной элемент div</div>
    `
});
```

В этом примере директива находится в элементе **div** и использует источник данных, содержащий три значения, поэтому в результате работы директивы было создано три элемента **div**.

В предыдущем примере в директиве указан только источник данных и все созданные HTML-элементы абсолютно одинаковые. Для формирования уникального содержимого каждого HTML-элемента необходимо использовать дополнительные параметры директивы.

1. Параметр **item** определяет значение текущего элемента источника данных.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item in array">Элемент: {{item}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    В этом примере из массива **array** последовательно извлекаются все элементы, и для каждого из них создается свой собственный HTML-элемент **div**. В его теле значение текущего элемента массива выводится с помощью переменной **item**, которая передается ему автоматически из заголовка директивы **~for**.

1. Параметр **index** содержит индекс текущего элемента источника данных. Нумерация начинается с нуля.

    Если источником данных является массив, то эта переменная будет являться индексом текущего элемента массива.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index in array">Элемент[{{index}}]: {{item}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    Из этого примера видно, что индексация элементов массива, как обычно, начинается с нуля.

1. Параметр **items** указывает на сам источник данных, на основе которого формируются все однотипные HTML-элементы.

    Если источником данных является объект или массив, то переменная **items** будет просто ссылаться на них.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items in array">Элемент[{{index}}]: {{item}} - array: {{items}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    Если источником данных будет JavaScript-выражение, то переменная **items** будет ссылаться на внутренний источник данных, который будет сформирован специально для этого выражения.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items in ['A', 'B', 'C']">Элемент[{{index}}]: {{item}} - array: {{items}}</div>
        `
    });
    ```

    Этот пример аналогичен предыдущему, за исключением того, что источник данных формируется с помощью отдельного JavaScript-выражения.

1. Параметр **key** содержит название текущего свойства объекта, если источником данных является объект.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items, key in object">{{index}}-е свойство {{key}}: {{item}} -- object: {{JSON.stringify(items)}}</div>
        `,
        props: {
            object: {
                prop1:'A', prop2:'B', prop3:'C'
            }
        }
    });
    ```

    Параметр **index** в этом примере выводит индекс свойства объекта, а параметр **key** содержит имя этого свойства.

    Если источником данных является массив, то параметр **key** будет выводить такое же значение, что и параметр **index**, т.е. фактически эти два параметра будут дублировать друг друга.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items, key in array">Индекс {{index}} - элемент[{{key}}]: {{item}} -- array: {{items}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    Как видно из этого примера, значения параметров **key** и **index** абсолютно одинаковые.

```info_md
Кроме структуры **for..in**, в директиве **~for** можно использовать структуру **for..of**.
```

Например,

```javascript _run_edit_[my-component.js]
ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items, key of array">Индекс {{index}} - элемент[{{key}}]: {{item}} -- array: {{items}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
```

Результат выполнения этого примера будет точно таким же, как и предыдущего примера, так как замена служебного слова **in** на **of** не влияет на работу директивы.

<div style="position:relative;padding-bottom:48%; margin:10px">
    <iframe src="https://www.youtube.com/embed/uCHBEqfvaGg?start=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
    	style="position:absolute;width:100%;height:100%;"></iframe>
</div>
