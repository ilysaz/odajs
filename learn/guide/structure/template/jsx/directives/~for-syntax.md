Директива **~for** используется для создания последовательности однотипных HTML-элементов на основе заданного источника данных.

В качестве источника данных могут выступать: массивы, объекты или любые JavaScript-выражения, значение которых можно представить в виде массива или объекта.

В общем случае директива **~for** имеет следующий синтаксис:

```info md_hideicon
**~for="item, index, items, key in dataSource"**
```

В процессе ее выполнения последовательно извлекаются все элементы указанного источника (**dataSource**) и на их основе создается очередной HTML-элемент того же типа, в теге которого эта директива была указана.

Например,

```javascript _run_edit_[my-component.js]
ODA({
    is: 'my-component',
    template: `
        <div ~for="['A', 'B', 'C']">Очередной элемент div</div>
    `
});
```

Кроме источника данных, в директиве **~for** можно указывать и другие параметры, значения которых будут использоваться в дальнейшем для формирования тела каждого отдельного HTML-элемента. К таким параметрам относятся:

1. Параметр **item** определяет значение текущего элемента источника данных.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item in array">Элемент: {{item}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    В этом примере из массива **array** последовательно извлекаются все элементы, и для каждого из них создается свой собственный HTML-элемент **div**. В его теле название текущего элемента массива выводится с помощью переменной **item**, которая передается ему автоматически из заголовка директивы **~for**.

1. Параметр **index** содержит индекс текущего элемента источника данных.

    Если источником данных является массив, то эта переменная будет являться индексом текущего элемента массива.

    Пример 2:

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index in array">Элемент[{{index}}]: {{item}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    Из этого примера видно, что индексация элементов массива, как обычно, начинается с нуля.

1. Параметр **items** указывает на сам источник данных, на основе которого формируются все однотипные HTML-элементы.

    Если источником данных является объект или массив, то переменная **items** будет просто ссылаться на них.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items in array">Элемент[{{index}}]: {{item}} - array: {{items}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    Если источником данных будет JavaScript-выражение, то переменная **items** будет ссылаться на внутренний источник данных, который будет сформирован специально для этого выражения.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items in ['A', 'B', 'C']">Элемент[{{index}}]: {{item}} - array: {{items}}</div>
        `
    });
    ```

    Этот пример аналогичен предыдущему, за исключением того, что источник данных формируется в директиве **~for** с помощью отдельного JavaScript-выражения.

1. Параметр **key** содержит название текущего свойства объекта, если источником данных является объект.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items, key in object">{{index}}-е свойство {{key}}: {{item}} -- object: {{JSON.stringify(items)}}</div>
        `,
        props: {
            object: {
                prop1:'A', prop2:'B', prop3:'C'
            }
        }
    });
    ```

    Параметр **index** в этом пример выводит индекс свойства объекта, а параметр **key** содержит имя этого свойства.

    Если источником данных является массив, то параметр **key** будет выводить такое же значение, что и параметр **index**, т.е. фактически они будет дублировать друг друга.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items, key in array">Индекс {{index}}- элемент[{{key}}]: {{item}} -- array: {{items}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    Как видно из этого примера значения параметров **key** и **index** абсолютно одинаковые.

```info_md
Кроме структуры **for..in**, в директиве **~for** можно использовать структуру **for..of**.
```

Например,

```javascript _run_edit_[my-component.js]
ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items, key in array">Индекс {{index}}- элемент[{{key}}]: {{item}} -- array: {{items}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
```

Результат выполнения этого примера будет точно таким же, как и предыдущего примера, так как эти две директивы функционально ничем не отличаются друг от друга.
