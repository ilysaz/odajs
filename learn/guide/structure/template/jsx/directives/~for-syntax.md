Директива **~for** используется для создания последовательности однотипных HTML-элементов на основе заданного источника данных.

В качестве источника данных могут выступать: массивы, объекты или любые JavaScript-выражения, значение которых можно представить в виде массива или объекта.

В общем случае директива **~for** имеет следующий синтаксис:

```info md_hideicon
**~for="item, index, items, key in dataSource"**
```

В процессе ее выполнения последовательно извлекаются все элементы  указанного источника (**dataSource**) и на их основе создает очередной HTML-элемент, того же типа в теге которого эта директива была указана.

Например,

```info md_hideicon
\<**div** ~for="['A', 'B', 'C']">Очередной элемент<**/div**>
```

Кроме источника данных в директиве **~for** можно указать дополнительные параметры, значения которых будут использоваться в дальнейшем при формировании тела каждого отдельного HTML-элемента. К ним относятся:

1. Параметр **item** определяет значение текущего элемента источника данных.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item in array">Элемент: {{item}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    В этом примере из массива **array** последовательно извлекаются все элементы, и для каждого из них создается свой собственный HTML-элемент **div**. В его теле название текущего элемента массива выводится с помощью переменной **item**, которая передается ему автоматически из заголовка директивы **~for**.

1. Параметр **index** содержит индекс текущего элемента источника данных.

    Если источником данных является массив, то эта переменная будет фактически индексом текущего элемента массива.

    Пример 2:

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index in array">Элемент[{{index}}]: {{item}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    Из этого примера видно, что индексация элементов массива как обычно начинается с нуля.

1. Параметр **items** указывает на сам источник данных, на основе которого формируются все однотипные HTML-элементы.

    Если источник данных является объектом или массивом, то переменная **items** будет просто ссылаться на него.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items in array">Элемент[{{index}}]: {{item}} - array: {{items}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
    ```

    Если источник данных будет являться JavaScript-выражением, то переменная **items** будет ссылаться на внутренний источник данных, который будет сформирован автоматически для этого выражения.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items in ['A', 'B', 'C']">Элемент[{{index}}]: {{item}} - array: {{items}}</div>
        `
    });
    ```

    Этот пример аналогичен предыдущему, за исключением того, что исходный источник данных формируется в директиве **~for** с помощью отдельного JavaScript-выражения.

1. Параметр **key** содержит имя текущего свойства объекта, если источник данных является объектом.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items, key in object">{{index+1}}-е свойство {{key}}: {{item}} -- object: {{JSON.stringify(items)}}</div>
        `,
        props: {
            object: {
                prop1:'A', prop2:'B', prop3:'C'
            }
        }
    });
    ```

    Параметр **index** в этом пример выводит порядковый индекс свойства объекта, а переменная **key** содержит имя этого свойства.

    Если источник данных является массивом, то переменная **key** будет содержать значение индекса элемента массива, и фактически будет полностью дублировать значение переменной **index**.

    Например,

    ```javascript _run_edit_[my-component.js]
    ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items, key in array">Индекс {{index}}- элемент[{{key}}]: {{item}} -- array: {{items}}</div>
        `,
        props: {
            array: {
                prop1:'A', prop2:'B', prop3:'C'
            }
        }
    });
    ```

    Как видно значения переменных **key** и **index** в этом примере полностью совпадают друг с другом.

```info_md
Кроме структуры цикла **for...in**, можно использовать структуру **for...of**.
```

Например,

```javascript _run_edit_[my-component.js]
ODA({
        is: 'my-component',
        template: `
            <div ~for="item, index, items, key in array">Индекс {{index}}- элемент[{{key}}]: {{item}} -- array: {{items}}</div>
        `,
        props: {
            array: ['A', 'B', 'C']
        }
    });
```

Результат выполнения этого примера будет точно таким же, как и у предыдущего, так как эти две директивы функционально абсолютно одинаковые.
