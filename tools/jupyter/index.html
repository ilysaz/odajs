<meta charset="utf-8">
<title>oda-jupyter-app</title>

<oda-jupyter-app></oda-jupyter-app>

<script type="module">
    import '../../oda.js';
    ODA({
        is: 'oda-jupyter-app', imports: '@oda/button, ./jupyter.js',
        template: `
            <style>
                oda-button {
                    font-size: 12px;
                }
            </style>

            <div ~if="!hideTopPanel" style="display: flex; flex-direction: row-reverse; border-bottom: 1px solid gray; position: sticky; top: 0; background: white; z-index: 31;">
                <oda-button @pointerdown="jupyter.share($event)" style="margin: 4px;">share</oda-button>
                <oda-button @tap="jupyter.saveFile()" style="margin: 4px;">save json</oda-button>
                <oda-button for="load" style="margin: 4px;" @tap="this.$('#load').click()">load json</oda-button>
                <input id="load" type="file" style="display: none" @change="jupyter.loadFile($event)"/>
                <oda-button @tap="jupyter.readOnly = !jupyter.readOnly" style="margin: 4px;" allow-toggle ::toggled="jupyter.readOnly">readOnly</oda-button>
                <oda-button @tap="jupyter.loadURL()" style="margin: 4px;">Restore view</oda-button>
                <oda-button @tap="jupyter.notebook.cells = []" style="margin: 4px;">Clear all data</oda-button>
                <oda-button @tap="document.location.reload()" style="margin: 4px;">Reload page</oda-button>
            </div>
            <oda-jupyter id="jupyter" url="./jupyter_demo.json" show-border></oda-jupyter>
        `,
        get jupyter() { return this.$('#jupyter') },
        get hideTopPanel() { return this.jupyter?.notebook?.hideTopPanel }
    })
</script>
