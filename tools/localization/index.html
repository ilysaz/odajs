<meta charset="utf-8">
<script type="module" >
    import "../../oda.js"
    import "./localization.js"

    ODA({is:'oda-localisation-test', imports:'@oda/icon, @oda/button', template: `
        <style> 
            .control {display: flex; justify-content: space-evenly; padding:3px;}
            .btn {border:1px solid grey; border-radius:5px; display: flex;padding:0 3px; align-items: center;}
            .btn.true {border-color:green;}
            
        </style>
        <div class='control' > 
            <div :class='"btn " + isActive(item)' ~for='navigator.languages' @tap='chengeL(item)' notranslete>
                <oda-icon :icon='flag(item)'></oda-icon>{{item}}</div>
        </div>
        {{ODA.language}}
        this is english text<br>
        
        {{FAQ}}
        <oda-button :label='test1'></oda-button>
        <oda-button :label='"New Watchers"'></oda-button>
        <oda-button :label='FAQ'></oda-button>
        <oda-button notranslete :label='"ggg"'></oda-button>
        <div :notranslete='true'>Watchers</div>
        <div notranslete >Watchers</div>
        <div >Watchers</div>
        <div ~html='"Watchers"'></div>    
        `,
        props: {
            test1:'test button',
            FAQ:'FaQ',
            aLocale:'',
            watchers:'Watchers'
        },
        flag(s) {
            const exclusions = {'en': 'gb','zh': 'cn','uk': 'ua', 'be': 'by',}
            for (const k in exclusions)  s = s.replace(k, exclusions[k])        
            s = `flags:${s.slice(0,2).toUpperCase()}`
            return s;
        },
        chengeL(s) { 
            // console.log(s)
            ODA.language = s 
            this.aLocale = s
        },
        isActive(a) { return (a==ODA.language || a==  this.aLocale) }

    }) 
</script>
<!-- <script src="./test.js"></script> -->

<oda-localisation-test></oda-localisation-test>
