<meta charset="utf-8">
<script type="module" src="/web/oda/oda.js"></script>
<script type="module" src="../../layouts/app-layout/app-layout.js"></script>
<script type="module" src="../../grids/tree/tree.js"></script>
<script type="module" src="../../buttons/button/button.js"></script>
<script type="module" src="./~~layout-designer.js"></script>
<oda-app-layout>
    <app-layout-toolbar slot="top" class="header">
        <div slot="top-right" class="horizontal">
            <oda-button  icon="editor:mode-edit" onclick="_onclick()"></oda-button>
        </div>
    </app-layout-toolbar>
    
    <!-- <oda-tree id="tree" slot="left-panel" allow-focus></oda-tree> -->
    <oda-layout-designer keys="fields" id="itree" slot="left-panel" design-mode itree></oda-layout-designer>
    <oda-layout-designer keys="fields" id="testLayoutDesigner" slot="main" design-mode></oda-layout-designer>
</oda-app-layout>

<script>
    function _onclick(e) {
        itree.designMode = testLayoutDesigner.designMode = !testLayoutDesigner.designMode
    }
</script>
    
<script type="module">

    testLayoutDesigner._itree = itree;
    testLayoutDesigner.data = {
        fields: [
            { name: 1, labelPosition: 'top', style: { 'background-color': 'lightyellow' } },
            { name: 2, fields: [{ name: '2.1' }, { name: '2.2' }, { name: '2.3' }, { name: '2.4' }, { name: '2.5' }, { name: '2.6' }] },
            { name: 3, $template: 'oda-button', props: { icon: 'icons:warning' } },
            { name: 4 },
            { name: 5 },
            { name: 6, }, // fields: subFields },
            { name: 7, }, // fields: brokenSubFields },
            { name: 8 },
            { name: 9 },
            { name: 10 },
            { name: 11 },
            { name: 12, fields: [{ name: '12.1' }, { name: '12.2' }, { name: '12.3' }, { name: '12.4' }, { name: '12.5' }, { name: '12.6' }] },
            { name: 13 },
            {
                name: 14, fields: [
                    { name: '14.1' },
                    {
                        name: '14.2', fields: [
                            {
                                name: '14.2.1',
                                fields: [
                                    { name: '14.2.1.1', fields: [{ name: '14.2.1.1.1' }, { name: '14.2.1.1.2' }] },
                                    { name: '14.2.1.2', fields: [{ name: '14.2.1.2.1' }, { name: '14.2.1.2.2' }] },
                                    { name: '14.2.1.3' },
                                    { name: '14.2.1.4', fields: [{ name: '14.2.1.4.1' }, { name: '14.2.1.4.2', fields: [{ name: '14.2.1.4.2.1' }, { name: '14.2.1.4.2.2' }, { name: '14.2.1.4.2.3' }, { name: '14.2.1.4.2.4' }] }] },
                                    { name: '14.2.1.5' },
                                ]
                            },
                            { name: '14.2.2' },
                            { name: '14.2.3' },
                            { name: '14.2.4' },
                            { name: '14.2.5' }],

                    },
                    { name: '14.3' },
                    { name: '14.4' },
                    { name: '14.5' },],
            },
            { name: 15 },
            { name: 16 },
            { name: 17 },
            { name: 18 },
            { name: 19 },
            { name: 20 },
        ]
    }
</script>
