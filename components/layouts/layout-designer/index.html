<meta charset="utf-8">
<script type="module" src="/web/oda/oda.js"></script>
<script type="module" src="./layout-designer.js"></script>
<style>
    button {
        cursor: pointer;
        margin: 4px;
        padding: 4px;
    }
</style>
<div style="display: flex; flex-direction: row-reverse; border-bottom: 1px solid gray;">
    <button onclick="testLayoutDesigner.designMode = !testLayoutDesigner.designMode; this.style.background = testLayoutDesigner.designMode ? 'yellow' : 'lightgray'" style="background: yellow; border: 1px solid gray; border-radius: 2px;">Design mode</button>
    <button onclick="testLayoutDesigner.resetSettings();">Reset settings</button>
    <button onclick="document.location.reload()">Reload page</button>
</div>
<oda-layout-designer keys="fields" id="testLayoutDesigner" design-mode></oda-layout-designer>
<script type="module">
    testLayoutDesigner.data =
    {
        savekey: 'root-test',
        id: 'test-layout-designer',
        fields: [
            { name: 1, labelPosition: 'top', style: { 'background-color': 'lightyellow' } },
            { name: 2, fields: [{ name: '2.1' }, { name: '2.2' }, { name: '2.3' }, { name: '2.4' }, { name: '2.5' }, { name: '2.6' }] },
            { name: 3, template: 'oda-button', props: { icon: 'icons:warning' } },
            { name: 4 },
            { name: 5 },
            { name: 6, },
            { name: 7, },
            { name: 8 },
            { name: 9 },
            { name: 10 },
            { name: 11 },
            { name: 12, fields: [{ name: '12.1' }, { name: '12.2' }, { name: '12.3' }, { name: '12.4' }, { name: '12.5' }, { name: '12.6' }] },
            { name: 13 },
            {
                name: 14, fields: [
                    { name: '14.1' },
                    {
                        name: '14.2', fields: [
                            {
                                name: '14.2.1',
                                fields: [
                                    { name: '14.2.1.1', fields: [{ name: '14.2.1.1.1' }, { name: '14.2.1.1.2' }] },
                                    { name: '14.2.1.2', fields: [{ name: '14.2.1.2.1' }, { name: '14.2.1.2.2' }] },
                                    { name: '14.2.1.3' },
                                    { name: '14.2.1.4', fields: [{ name: '14.2.1.4.1' }, { name: '14.2.1.4.2', fields: [{ name: '14.2.1.4.2.1' }, { name: '14.2.1.4.2.2' }, { name: '14.2.1.4.2.3' }, { name: '14.2.1.4.2.4' }] }] },
                                    { name: '14.2.1.5' },
                                ]
                            },
                            { name: '14.2.2' },
                            { name: '14.2.3' },
                            { name: '14.2.4' },
                            { name: '14.2.5' }],

                    },
                    { name: '14.3' },
                    { name: '14.4' },
                    { name: '14.5' },],
            },
            { name: 15 },
            { name: 16 },
            { name: 17 },
            { name: 18 },
            { name: 19 },
            { name: 20 },
        ]
    }
</script>
